{% extends "base.html" %}
{%block title%} <title>Register to Piggybank</title> {%endblock%}

{% block content %}
<div class="container col-md-4 mt-5">
  <div class="card mt-5 align-items-center text-center bg-light">
    <div class="card-body">
      <form class="text-center p-3" method="POST" action="{{url_for('auth.register')}}">
        {{form.csrf_token}}
        <div class="text-center">
          <img class="pb-3" src="static/img/piggybank_logo.png" style="width: 30%" alt="">
          <h3> Register to begin investing</h3><br>
        </div>

        <div class="md-form">
          <input id="first_name" name="first_name" class="form-control" required type="text" value=""
            placeholder="First name"><br>
        </div>

        <div class="md-form">
          <input id="last_name" name="last_name" class="form-control" required type="text" value=""
            placeholder="Last name"><br>
        </div>

        <div class="md-form">
          <input id="email" name="email" class="form-control" required type="text" value="" placeholder="Email"><br>
        </div>

        {% for error in form.email.errors %}
        <div class="alert alert-warning" role="alert">
          {{error}}
        </div>
        {%endfor%}

        <div class="md-form">
          <input id="passphrase" name="passphrase" class="form-control" required type="password" value=""
            placeholder="Passphrase">
          <small class="form-text text-left text-muted">Your passphrase should be a minimum of 16 characters
            long and contain atleast one uppercase letter, one lowercase letter, one number and a special
            character</small>
        </div>

        {% for error in form.passphrase.errors %}
        <div class="alert alert-warning" role="alert">
          {{error}}
        </div>
        {%endfor%}

        {% with messages = get_flashed_messages() %}
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-warning" role="alert">
          {{message}}
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}

        <input class="btn btn-success btn-lg mt-3" type="submit" value="Register">

        <div class="md-form mt-3">
          <p> Have an account? <a href="{{url_for('auth.login')}}">Sign In</a></p>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}